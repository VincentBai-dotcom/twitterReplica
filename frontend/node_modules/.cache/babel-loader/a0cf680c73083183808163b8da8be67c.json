{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\butch\\\\Documents\\\\musegeeks\\\\frontend\\\\src\\\\components\\\\Post.js\",\n    _s = $RefreshSig$();\n\nimport { Grid } from \"@material-ui/core\";\nimport { React, useContext, useEffect, useRef, useState } from \"react\";\nimport AxiosInstance from \"../Axios\";\nimport { UserContext } from \"../App\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Post(props) {\n  _s();\n\n  const post = props.post;\n  const [vote, setVote] = useState(0);\n  const [isLoading, setIsLoading] = useState(true);\n  const user = useContext(UserContext);\n  useEffect(() => {\n    AxiosInstance.get(\"/api/post/\" + post.id + \"/vote/\").then(res => {\n      console.log(res);\n      setVote(res[\"data\"][\"vote\"]);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, [vote]);\n\n  function upvote() {\n    AxiosInstance.post(\"/api/vote/\", {\n      post: post.id,\n      user: user.id,\n      comment: null\n    }).then(res => {\n      setVote(vote + 1);\n      setIsLoading(false);\n      console.log(res);\n    }).catch(error => {\n      console.log({\n        post: post.id,\n        user: user.id\n      });\n      console.log(error);\n    });\n  }\n\n  function render() {\n    if (isLoading) return;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        style: {\n          fontSize: \"40px\",\n          fontWeight: \"bold\"\n        },\n        children: post.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: \"20px\"\n        },\n        children: post.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: \"20px\"\n        },\n        children: [\"Vote: \", vote]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: upvote,\n        children: \"Upvote\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this);\n  }\n\n  return {\n    render\n  };\n}\n\n_s(Post, \"ag2unIq0vxvhvSNT3Zxhg0NRwrU=\");\n\n_c = Post;\n\nvar _c;\n\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"sources":["C:/Users/butch/Documents/musegeeks/frontend/src/components/Post.js"],"names":["Grid","React","useContext","useEffect","useRef","useState","AxiosInstance","UserContext","Post","props","post","vote","setVote","isLoading","setIsLoading","user","get","id","then","res","console","log","catch","error","upvote","comment","render","fontSize","fontWeight","title","description"],"mappings":";;;AAAA,SAASA,IAAT,QAAqB,mBAArB;AACA,SAASC,KAAT,EAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,MAAvC,EAA+CC,QAA/C,QAAgE,OAAhE;AACA,OAAOC,aAAP,MAA0B,UAA1B;AACA,SAASC,WAAT,QAA4B,QAA5B;;AAEA,eAAe,SAASC,IAAT,CAAcC,KAAd,EAAoB;AAAA;;AAC/B,QAAMC,IAAI,GAAGD,KAAK,CAACC,IAAnB;AACA,QAAM,CAACC,IAAD,EAAMC,OAAN,IAAiBP,QAAQ,CAAC,CAAD,CAA/B;AACA,QAAM,CAACQ,SAAD,EAAYC,YAAZ,IAA4BT,QAAQ,CAAC,IAAD,CAA1C;AACA,QAAMU,IAAI,GAAGb,UAAU,CAACK,WAAD,CAAvB;AACAJ,EAAAA,SAAS,CAAC,MAAI;AACVG,IAAAA,aAAa,CACRU,GADL,CACS,eAAaN,IAAI,CAACO,EAAlB,GAAqB,QAD9B,EAEKC,IAFL,CAEWC,GAAD,IAAO;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAP,MAAAA,OAAO,CAACO,GAAG,CAAC,MAAD,CAAH,CAAY,MAAZ,CAAD,CAAP;AACH,KALL,EAMKG,KANL,CAMYC,KAAD,IAAS;AACZH,MAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACH,KARL;AASH,GAVQ,EAUP,CAACZ,IAAD,CAVO,CAAT;;AAYA,WAASa,MAAT,GAAiB;AACblB,IAAAA,aAAa,CACRI,IADL,CACU,YADV,EACwB;AAACA,MAAAA,IAAI,EAACA,IAAI,CAACO,EAAX;AAAeF,MAAAA,IAAI,EAAEA,IAAI,CAACE,EAA1B;AAA8BQ,MAAAA,OAAO,EAAE;AAAvC,KADxB,EAEKP,IAFL,CAEWC,GAAD,IAAO;AACTP,MAAAA,OAAO,CAACD,IAAI,GAAC,CAAN,CAAP;AACAG,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACAM,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,KANL,EAOKG,KAPL,CAOYC,KAAD,IAAS;AACZH,MAAAA,OAAO,CAACC,GAAR,CAAY;AAACX,QAAAA,IAAI,EAACA,IAAI,CAACO,EAAX;AAAeF,QAAAA,IAAI,EAAEA,IAAI,CAACE;AAA1B,OAAZ;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACH,KAVL;AAWH;;AAED,WAASG,MAAT,GAAiB;AACb,QAAGb,SAAH,EACI;AACJ,wBACI;AAAA,8BACI;AAAG,QAAA,KAAK,EAAI;AAACc,UAAAA,QAAQ,EAAC,MAAV;AAAkBC,UAAAA,UAAU,EAAC;AAA7B,SAAZ;AAAA,kBAAqDlB,IAAI,CAACmB;AAA1D;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAG,QAAA,KAAK,EAAI;AAACF,UAAAA,QAAQ,EAAE;AAAX,SAAZ;AAAA,kBAAmCjB,IAAI,CAACoB;AAAxC;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAG,QAAA,KAAK,EAAI;AAACH,UAAAA,QAAQ,EAAE;AAAX,SAAZ;AAAA,6BAAuChB,IAAvC;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,eAII;AAAQ,QAAA,OAAO,EAAIa,MAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ,eAKI;AAAA;AAAA;AAAA;AAAA,cALJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AASH;;AAGD,SACI;AAACE,IAAAA;AAAD,GADJ;AAGH;;GAjDuBlB,I;;KAAAA,I","sourcesContent":["import { Grid } from \"@material-ui/core\";\r\nimport { React, useContext, useEffect, useRef, useState, } from \"react\";\r\nimport AxiosInstance from \"../Axios\";\r\nimport { UserContext } from \"../App\";\r\n\r\nexport default function Post(props){\r\n    const post = props.post;\r\n    const [vote,setVote] = useState(0);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const user = useContext(UserContext);\r\n    useEffect(()=>{\r\n        AxiosInstance\r\n            .get(\"/api/post/\"+post.id+\"/vote/\")\r\n            .then((res)=>{\r\n                console.log(res);\r\n                setVote(res[\"data\"][\"vote\"]);\r\n            })\r\n            .catch((error)=>{\r\n                console.log(error);\r\n            })\r\n    },[vote]);\r\n\r\n    function upvote(){\r\n        AxiosInstance\r\n            .post(\"/api/vote/\", {post:post.id, user: user.id, comment: null})\r\n            .then((res)=>{\r\n                setVote(vote+1);\r\n                setIsLoading(false);\r\n                console.log(res);\r\n            })\r\n            .catch((error)=>{\r\n                console.log({post:post.id, user: user.id});\r\n                console.log(error);\r\n            })\r\n    }\r\n\r\n    function render(){\r\n        if(isLoading)\r\n            return;\r\n        return(\r\n            <div>\r\n                <a style = {{fontSize:\"40px\", fontWeight:\"bold\", }}>{post.title}</a>\r\n                <p style = {{fontSize: \"20px\", }}>{post.description}</p>\r\n                <p style = {{fontSize: \"20px\"}}>Vote: {vote}</p>\r\n                <button onClick = {upvote}>Upvote</button>\r\n                <br/>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    return(\r\n        {render}\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}